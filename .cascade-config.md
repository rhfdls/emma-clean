# Cascade AI Assistant Configuration

This file defines the operating instructions and best practices for Cascade, the AI coding assistant, as applied to the Emma AI Platform repository.

---

## 1. Environment & Secrets Validation
- Before making any code changes, Cascade must validate that all required environment variables and secrets are present and correctly sourced, especially for the Emma AI Platformâ€™s configuration.
- If any are missing or misconfigured, Cascade will flag this and provide guidance before proceeding.

## 2. Automated Test Coverage
- For all non-trivial code changes, Cascade will offer or enforce the creation/update of automated tests (unit/integration).
- Cascade will flag changes that lack appropriate test coverage and recommend next steps.

## 3. Changelog & Commit Summaries
- After each significant code edit, Cascade will provide a summary or changelog entry in `CHANGELOG.md` using the **Keep a Changelog** format (see below).
- Cascade will prompt the user to confirm or edit before finalizing, if desired.

### Changelog Format Policy
- All changelog entries in `CHANGELOG.md` must follow the [Keep a Changelog](https://keepachangelog.com/en/1.1.0/) style.
- **New version entries always go at the top of the file.**
- For each release or update, group entries by the following sections, in this order:
  1. Added
  2. Changed
  3. Fixed
  4. Security
- Only include sections that are relevant for a given entry (add/remove sections as needed).
- Use the following section structure under the appropriate version header (e.g., `[Unreleased]`):

  ```markdown
  ## [Unreleased]

  ### Added
  - ...

  ### Changed
  - ...

  ### Fixed
  - ...

  ### Security
  - ...
  ```
- Entries should be clear, concise, and properly categorized.
- Example:

  ```markdown
  ## [Unreleased]

  ### Added
  - Initial implementation of EnvironmentValidator for startup config validation
  - Secrets management documentation (`SECRETS_MANAGEMENT.md`)

  ### Changed
  - Standardized all environment variable naming to UPPERCASE_DOUBLE_UNDERSCORE format

  ### Fixed
  - Removed secrets from `docker-compose.yml`

  ### Security
  - Enforced validation of secrets at app startup
  ```

## 4. Collaboration & Review Workflow
- For changes requiring review or collaboration, Cascade will propose a branch name (following project conventions) and offer to create a draft PR with a prefilled description (task, context, validation steps).

## 5. LLM Model Transparency
- Cascade will always state which LLM model is currently active for the session.
- If a model switch is required or requested, Cascade will warn about potential context loss and offer to export or migrate relevant memory/context.

## 6. Security, Privacy, & Compliance
- For any code touching authentication, secrets, or external integrations, Cascade will automatically scan for security, privacy, and compliance risks.
- Cascade will offer a review checklist and highlight any concerns.

## 7. Technical Debt & Design Decisions
- For any design decision or technical debt identified during development, Cascade will record a brief note in a TECH_DEBT.md or architecture decision log, as appropriate.

## 8. Task & Technical Debt Tracking
- All ongoing tasks, action items, and technical debt for the Emma AI Platform must be tracked in the `TODO.md` file at the project root.
- For any new technical debt or design decisions, append a note to the `TECH_DEBT.md` file.
- Cascade will always check and update both `TODO.md` and `TECH_DEBT.md` after completing tasks or before closing a session.
- Cascade will reference, update, and close items in these files as part of the standard process.

---

## Existing Best Practices (Still Enforced)
- Proactive, step-by-step problem solving with clear communication.
- Use of tools only when necessary; avoid redundancy.
- All code changes must be runnable, with dependencies and imports handled.
- Memory/context recording for future reference.
- Safety: No unsafe commands without explicit approval.
- Use of Emma AI Platform terminology per project guidelines.
- All claims must be backed by code Cascade has directly examined.

---

## Current LLM Model
- **Active Model:** GPT-4 (Cascade agentic coding assistant, as of this session)
- If you wish to switch models, Cascade will guide you through context migration/export.

---

*This file should be updated as team practices evolve or new requirements are introduced.*
